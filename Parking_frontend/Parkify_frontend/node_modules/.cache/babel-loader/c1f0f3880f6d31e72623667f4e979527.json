{"ast":null,"code":"var _jsxFileName = \"E:\\\\Amisha\\\\Parkify_frontend new\\\\Parkify_frontend\\\\src\\\\user\\\\home.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport config from '../config'; // get the current signin status\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { signin } from '../slices/authSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [listings, setListings] = useState([]);\n  const dispatch = useDispatch();\n  const signinStatus = useSelector(state => state.authSlice.status); // load the homes as soon as the component gets loaded successfully\n\n  useEffect(() => {\n    // check if user is already logged in by reading the token from session storage\n    if (sessionStorage['token'] && sessionStorage['token'].length > 0) {\n      // reading the information from sesssionstorage and manually signing in user\n      const user = {\n        token: sessionStorage['token'],\n        name: sessionStorage['username']\n      };\n      dispatch(signin(user));\n    }\n\n    loadHomes();\n  }, []); // load all homes\n\n  const loadHomes = () => {\n    axios.get(config.serverURL + '/home/', {\n      headers: {\n        token: sessionStorage['token']\n      }\n    }).then(response => {\n      const result = response.data;\n      console.log(result);\n\n      if (result['status'] === 'success') {\n        setListings(result['data']);\n      } else {\n        toast.error(result['error']);\n      }\n    });\n  };\n\n  const toggleWishlistStatus = (status, id) => {\n    if (status) {\n      // add the home into the wishlist\n      axios.post(config.serverURL + '/wishlist/' + id, // no need to add anything in the body\n      {}, {\n        headers: {\n          token: sessionStorage['token']\n        }\n      }).then(response => {\n        const result = response.data;\n\n        if (result['status'] === 'success') {\n          toast.success('successfully added this home to your wishlist');\n        } else {\n          toast.error(result['error']);\n        }\n      });\n    } else {\n      // remove the home from wishlist\n      // add the home into the wishlist\n      axios.delete(config.serverURL + '/wishlist/' + id, {\n        headers: {\n          token: sessionStorage['token']\n        }\n      }).then(response => {\n        const result = response.data;\n\n        if (result['status'] === 'success') {\n          toast.success('successfully removed this home from your wishlist');\n        } else {\n          toast.error(result['error']);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {},\n      className: \"row\",\n      children: listings.map(listing => {\n        const imageUrl = config.serverURL + '/' + listing.image;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3\",\n          style: {\n            position: 'relative',\n            padding: 20,\n            display: 'inline-block',\n            cursor: 'pointer'\n          },\n          children: [signinStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 30,\n              height: 30,\n              position: 'absolute',\n              right: 40,\n              top: 30\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"home\",\n            style: {\n              height: 250,\n              width: '100%',\n              display: 'block',\n              borderRadius: 10\n            },\n            src: imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: listing.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [listing.tagline, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 37\n              }, this), \"Rs. \", listing.rent, \" per night\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, listing.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"uNJEyp2rVrxG+eJ4xA2RWXQyG3U=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["axios","useState","useEffect","toast","config","useSelector","useDispatch","signin","Home","listings","setListings","dispatch","signinStatus","state","authSlice","status","sessionStorage","length","user","token","name","loadHomes","get","serverURL","headers","then","response","result","data","console","log","error","toggleWishlistStatus","id","post","success","delete","map","listing","imageUrl","image","position","padding","display","cursor","width","height","right","top","borderRadius","marginTop","title","tagline","rent"],"sources":["E:/Amisha/Parkify_frontend new/Parkify_frontend/src/user/home.js"],"sourcesContent":["import axios from 'axios'\r\nimport { useState, useEffect } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport config from '../config'\r\n\r\n\r\n// get the current signin status\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { signin } from '../slices/authSlice'\r\n\r\nconst Home = () => {\r\n  const [listings, setListings] = useState([])\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const signinStatus = useSelector((state) => state.authSlice.status)\r\n\r\n  // load the homes as soon as the component gets loaded successfully\r\n  useEffect(() => {\r\n    // check if user is already logged in by reading the token from session storage\r\n    if (sessionStorage['token'] && sessionStorage['token'].length > 0) {\r\n      // reading the information from sesssionstorage and manually signing in user\r\n      const user = {\r\n        token: sessionStorage['token'],\r\n        name: sessionStorage['username'],\r\n      }\r\n      dispatch(signin(user))\r\n    }\r\n\r\n    loadHomes()\r\n  }, [])\r\n\r\n  // load all homes\r\n  const loadHomes = () => {\r\n    axios\r\n      .get(config.serverURL + '/home/', {\r\n        headers: { token: sessionStorage['token'] },\r\n      })\r\n      .then((response) => {\r\n        const result = response.data\r\n        console.log(result)\r\n        if (result['status'] === 'success') {\r\n          setListings(result['data'])\r\n        } else {\r\n          toast.error(result['error'])\r\n        }\r\n      })\r\n  }\r\n\r\n  const toggleWishlistStatus = (status, id) => {\r\n    if (status) {\r\n      // add the home into the wishlist\r\n      axios\r\n        .post(\r\n          config.serverURL + '/wishlist/' + id,\r\n          // no need to add anything in the body\r\n          {},\r\n          {\r\n            headers: { token: sessionStorage['token'] },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          const result = response.data\r\n          if (result['status'] === 'success') {\r\n            toast.success('successfully added this home to your wishlist')\r\n          } else {\r\n            toast.error(result['error'])\r\n          }\r\n        })\r\n    } else {\r\n      // remove the home from wishlist\r\n      // add the home into the wishlist\r\n      axios\r\n        .delete(config.serverURL + '/wishlist/' + id, {\r\n          headers: { token: sessionStorage['token'] },\r\n        })\r\n        .then((response) => {\r\n          const result = response.data\r\n          if (result['status'] === 'success') {\r\n            toast.success('successfully removed this home from your wishlist')\r\n          } else {\r\n            toast.error(result['error'])\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div style={{}} className='row'>\r\n        {listings.map((listing) => {\r\n          const imageUrl = config.serverURL + '/' + listing.image\r\n          return (\r\n            <div\r\n              key={listing.id}\r\n              className='col-3'\r\n              style={{\r\n                position: 'relative',\r\n                padding: 20,\r\n                display: 'inline-block',\r\n                cursor: 'pointer',\r\n              }}>\r\n              {signinStatus && (\r\n                <div\r\n                  style={{\r\n                    width: 30,\r\n                    height: 30,\r\n                    position: 'absolute',\r\n                    right: 40,\r\n                    top: 30,\r\n                  }}>\r\n                 \r\n                </div>\r\n              )}\r\n              <img\r\n                alt='home'\r\n                style={{\r\n                  height: 250,\r\n                  width: '100%',\r\n                  display: 'block',\r\n                  borderRadius: 10,\r\n                }}\r\n                src={imageUrl}\r\n              />\r\n              <div style={{ marginTop: 20 }}>\r\n                <h5 className='card-title'>{listing.title}</h5>\r\n                <p>\r\n                  {listing.tagline} <br />\r\n                  Rs. {listing.rent} per night\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"E:\\\\Amisha\\\\Parkify_frontend new\\\\Parkify_frontend\\\\src\\\\user\\\\signin.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'; //import config from '../../config'\n\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom'; // use the dispatch to update the redux store about the signin state\n\nimport { useDispatch } from 'react-redux';\nimport { signin } from '../slices/authSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Signin = () => {\n  _s();\n\n  // get user inputs\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState(''); // get the dispatcher\n\n  const dispatch = useDispatch(); // get the navigate function reference\n\n  const navigate = useNavigate();\n\n  const signinUser = () => {\n    // check if user has really entered any value\n    if (email.length === 0) {\n      toast.error('please enter email');\n    } else if (password.length === 0) {\n      toast.error('please enter password');\n    } else {\n      // make the API call to check if user exists\n      axios.post('http://localhost:8080/parkifyUserFunctions/signIn', {\n        email,\n        password\n      }).then(response => {\n        // get the data returned by server\n        const result = response.data;\n        console.log(result);\n        const {\n          userId,\n          firstName,\n          lastName,\n          role,\n          email\n        } = result['data']; // persist the logged in user's information for future use\n\n        sessionStorage['userId'] = userId;\n        sessionStorage['firstName'] = firstName;\n        sessionStorage['lastName'] = lastName;\n        sessionStorage['role'] = role;\n        sessionStorage['email'] = email;\n        console.log(firstName);\n        toast.success('welcome ' + (firstName + ' ' + lastName)); // check if user's authentication is successfull\n\n        if (result['status'] === 'error') {\n          toast.error('invalid email or password');\n        } else {\n          // get the logged in user's info\n          // const user= { userId, firstName, lastName , email,mobile, userRole} = result['data']\n          //    // persist the logged in user's information for future use\n          const user = result.data;\n          console.log(user); // send the action\n          // dispatch(signin(user))\n          //  toast.success('welcome to PARKIFY')\n\n          if (user.userRole === 'USER') navigate('/myhome');else navigate('/admin');\n        }\n      }).catch(error => {\n        console.log('error');\n        console.log(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 100\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setEmail(event.target.value);\n          },\n          className: \"form-control\",\n          type: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => {\n            setPassword(event.target.value);\n          },\n          className: \"form-control\",\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        style: {\n          marginTop: 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Dont have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"Signup here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: signinUser,\n          style: styles.signinButton,\n          children: \"Signin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Signin, \"h/ISfqTSOJ0VWUUOy9l0sDb2ncM=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Signin;\nconst styles = {\n  container: {\n    backgroundColor: \"#e6ffff\",\n    color: \"black\",\n    width: 400,\n    height: 310,\n    padding: 10,\n    position: \"relative\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    margin: \"auto\",\n    borderColor: \"black\",\n    borderRadius: 10,\n    broderWidth: 1,\n    borderStyle: \"solid\",\n    boxShadow: \"1px 1px 20px 5px #C9C9C9\"\n  },\n  table: {\n    color: \"blue\",\n    textAlign: \"center\"\n  },\n  signinButton: {\n    position: \"relative\",\n    width: \"100%\",\n    height: 40,\n    backgroundColor: \"#db0f62\",\n    color: \"white\",\n    borderRadius: 5,\n    border: \"none\",\n    marginTop: 10\n  }\n};\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["useState","Link","axios","toast","useNavigate","useDispatch","signin","Signin","email","setEmail","password","setPassword","dispatch","navigate","signinUser","length","error","post","then","response","result","data","console","log","userId","firstName","lastName","role","sessionStorage","success","user","userRole","catch","marginTop","styles","container","event","target","value","signinButton","backgroundColor","color","width","height","padding","position","top","left","right","bottom","margin","borderColor","borderRadius","broderWidth","borderStyle","boxShadow","table","textAlign","border"],"sources":["E:/Amisha/Parkify_frontend new/Parkify_frontend/src/user/signin.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n//import config from '../../config'\r\nimport { toast } from 'react-toastify'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n\r\n// use the dispatch to update the redux store about the signin state\r\nimport { useDispatch } from 'react-redux'\r\nimport { signin } from '../slices/authSlice'\r\n\r\nconst Signin = () => {\r\n  // get user inputs\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  // get the dispatcher\r\n  const dispatch = useDispatch()\r\n\r\n  // get the navigate function reference\r\n  const navigate = useNavigate()\r\n\r\n  const signinUser = () => {\r\n    // check if user has really entered any value\r\n    if (email.length === 0) {\r\n      toast.error('please enter email')\r\n    } else if (password.length === 0) {\r\n      toast.error('please enter password')\r\n    } else {\r\n      // make the API call to check if user exists\r\n      axios\r\n        .post('http://localhost:8080/parkifyUserFunctions/signIn', {\r\n          email,\r\n          password\r\n        })\r\n        .then((response) => {\r\n          // get the data returned by server\r\n          const result = response.data\r\n          console.log(result)\r\n          \r\n          const { userId, firstName, lastName , role, email} = result['data']\r\n\r\n          // persist the logged in user's information for future use\r\n          sessionStorage['userId'] = userId\r\n          sessionStorage['firstName'] = firstName\r\n          sessionStorage['lastName'] = lastName\r\n          sessionStorage['role'] = role\r\n          sessionStorage['email']=email\r\nconsole.log(firstName)\r\n          toast.success('welcome '+(firstName + ' '+lastName))\r\n\r\n          // check if user's authentication is successfull\r\n          if (result['status'] === 'error') {\r\n            toast.error('invalid email or password')\r\n          } else {\r\n            // get the logged in user's info\r\n           // const user= { userId, firstName, lastName , email,mobile, userRole} = result['data']\r\n            \r\n          //    // persist the logged in user's information for future use\r\n        const user=result.data\r\n        \r\nconsole.log(user)\r\n            // send the action\r\n           // dispatch(signin(user))\r\n\r\n          //  toast.success('welcome to PARKIFY')\r\n             if (user.userRole==='USER')\r\n            navigate('/myhome')\r\n            else\r\n             navigate('/admin')\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('error')\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop: 100 }}>\r\n      <div style={styles.container}>\r\n        <div className='mb-3'>\r\n          <label>Email</label>\r\n          <input\r\n            onChange={(event) => {\r\n              setEmail(event.target.value)\r\n            }}\r\n            className='form-control'\r\n            type='email'\r\n          />\r\n        </div>\r\n        <div className='mb-3'>\r\n          <label>Password</label>\r\n          <input\r\n            onChange={(event) => {\r\n              setPassword(event.target.value)\r\n            }}\r\n            className='form-control'\r\n            type='password'\r\n          />\r\n        </div>\r\n        <div className='mb-3' style={{ marginTop: 40 }}>\r\n          <div>\r\n            Dont have an account? <Link to='/signup'>Signup here</Link>\r\n          </div>\r\n          <button onClick={signinUser} style={styles.signinButton}>\r\n            Signin\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    backgroundColor: \"#e6ffff\",\r\n\r\n    color: \"black\",\r\n    width: 400,\r\n    height: 310,\r\n    padding: 10,\r\n    position: \"relative\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    margin: \"auto\",\r\n    borderColor: \"black\",\r\n    borderRadius: 10,\r\n    broderWidth: 1,\r\n    borderStyle: \"solid\",\r\n    boxShadow: \"1px 1px 20px 5px #C9C9C9\",\r\n  },\r\n  table: {\r\n    color: \"blue\",\r\n    textAlign: \"center\",\r\n  },\r\n  signinButton: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: 40,\r\n    backgroundColor: \"#db0f62\",\r\n    color: \"white\",\r\n    borderRadius: 5,\r\n    border: \"none\",\r\n    marginTop: 10,\r\n  },\r\n};\r\n\r\nexport default Signin\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}